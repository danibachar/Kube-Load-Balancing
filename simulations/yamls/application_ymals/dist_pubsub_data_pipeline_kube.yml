# Data Pipeline - Data-lake (storage) -> Queueing system (kafka/etc) -> Perparation/COmputation (Spark/StreamRunners/simple lambda/Model Training) -> Data Warehouse (ElasticeSearch/Dynamo/Dbs/Tabelu) -> API/Applications

services:
  product_page:
    name: product_page
    label: front-end
    dependencies:
      review1:
        name: review
        req_size: 5000
      details:
        name: details
        req_size: 5000
    expected-outbound-req-size-kb: 5000
  review:
    name: review
    label: internal
    dependencies:
      rating:
        name: rating
        req_size: 5000
    expected-outbound-req-size-kb: 5000
  details:
    name: details
    label: internal
    dependencies: {}
    expected-outbound-req-size-kb: 5000
  rating:
    name: rating
    label: internal
    dependencies: {}
    expected-outbound-req-size-kb: 5000

app-topology:
  aws-us-east-1:
    services:
      product_page:
          name: product_page
          rps_capacity: 50
      review:
          name: review
          rps_capacity: 90
      details:
          name: details
          rps_capacity: 90
  gcp-us-west-1:
    services:
      product_page:
          name: product_page
          rps_capacity: 50
      rating:
          name: rating
          rps_capacity: 90
  gcp-eu-west-1:
    services:
      product_page:
          name: product_page
          rps_capacity: 50
      review:
          name: review
          rps_capacity: 90
      rating:
          name: rating
          rps_capacity: 90
      details:
          name: details
          rps_capacity: 90
  aws-sa-east-1:
    services:
      product_page:
          name: product_page
          rps_capacity: 50
      review:
          name: review
          rps_capacity: 90
  gcp-asia-east-1:
    services:
      product_page:
          name: product_page
          rps_capacity: 50
      details:
          name: details
          rps_capacity: 90
      rating:
          name: rating
          rps_capacity: 90
